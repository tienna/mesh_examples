"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CborNegInt = exports.isRawCborNegative = void 0;
var obj_utils_1 = require("@harmoniclabs/obj-utils");
var assert_1 = require("../utils/assert.js");
function isRawCborNegative(neg) {
    if (typeof neg !== "object" || neg === null)
        return false;
    var keys = Object.keys(neg);
    return (keys.includes("neg") &&
        typeof neg.neg === "bigint" &&
        neg.neg < 0);
}
exports.isRawCborNegative = isRawCborNegative;
var CborNegInt = /** @class */ (function () {
    function CborNegInt(neg) {
        if (typeof neg === "number")
            neg = BigInt(neg);
        (0, assert_1.assert)(typeof neg === "bigint" &&
            neg < BigInt(0), "neg CBOR numbers must be less than 0; got: " + neg);
        (0, obj_utils_1.defineReadOnlyProperty)(this, "num", neg);
    }
    CborNegInt.prototype.toRawObj = function () {
        return {
            neg: this.num
        };
    };
    CborNegInt.prototype.clone = function () {
        return new CborNegInt(this.num);
    };
    return CborNegInt;
}());
exports.CborNegInt = CborNegInt;
