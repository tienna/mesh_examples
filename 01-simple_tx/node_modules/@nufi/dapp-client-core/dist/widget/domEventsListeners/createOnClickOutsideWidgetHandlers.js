"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createOnClickOutsideWidgetHandlers = void 0;
const createClickAwayHandlers = ({ elementQuerySelector, handleClickAway, }) => {
    const _handleClickAway = (event) => {
        const element = document.querySelector(elementQuerySelector);
        if (element && !element.contains(event.target)) {
            handleClickAway();
        }
    };
    return {
        addListener: () => document.addEventListener('click', _handleClickAway, true),
        removeListener: () => document.removeEventListener('click', _handleClickAway, true),
    };
};
const createOnClickOutsideWidgetHandlers = (params) => {
    // prevent adding multiple event listeners
    let isClickOutsideWidgetSet = false;
    const clickAwayHandlers = createClickAwayHandlers(params);
    const addClickOutsideWidgetListener = () => {
        if (!isClickOutsideWidgetSet) {
            clickAwayHandlers.addListener();
            isClickOutsideWidgetSet = true;
        }
    };
    const removeClickOutsideWidgetListener = () => {
        if (isClickOutsideWidgetSet) {
            clickAwayHandlers.removeListener();
            isClickOutsideWidgetSet = false;
        }
    };
    return { addClickOutsideWidgetListener, removeClickOutsideWidgetListener };
};
exports.createOnClickOutsideWidgetHandlers = createOnClickOutsideWidgetHandlers;
//# sourceMappingURL=createOnClickOutsideWidgetHandlers.js.map